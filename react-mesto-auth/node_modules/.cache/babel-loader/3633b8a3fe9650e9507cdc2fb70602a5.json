{"ast":null,"code":"import _objectSpread from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext,currentUser}from\"../contexts/CurrentUserContext\";import{useFormAndValidation}from\"../hooks/Validation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var currentUser=React.useContext(CurrentUserContext);var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,setValues=_useFormAndValidation.setValues,resetForm=_useFormAndValidation.resetForm;React.useEffect(function(){setValues(_objectSpread(_objectSpread({},values),{},{editName:currentUser.name,editDescription:currentUser.about}));},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:values.editName,about:values.editDescription});}return/*#__PURE__*/_jsx(PopupWithForm,{validButton:isValid,loader:props.loader,onSubmit:handleSubmit,title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\xA0\\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"edit\",isOpen:props.isOpen,onCloseAll:props.onClose,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.editName||\"\",onChange:handleChange,className:\"popup__field popup__field_type_name\",placeholder:\"\\u0416\\u0430\\u043A-\\u0418\\u0432-\\u041A\\u0443\\u0441\\u0442\\u043E\",name:\"editName\",id:\"name\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"name-error\",children:errors.editName}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:values.editDescription||\"\",onChange:handleChange,className:\"popup__field popup__field_type_job\",name:\"editDescription\",placeholder:\"\\u0418\\u0441\\u0441\\u043B\\u0435\\u0434\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C \\u043E\\u043A\\u0435\\u0430\\u043D\\u0430\",id:\"profession\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"profession-error\",children:errors.editDescription})]})});}export default EditProfilePopup;// import React from \"react\";\n// import PopupWithForm from \"./PopupWithForm\";\n// import {\n//     CurrentUserContext,\n//     currentUser,\n// } from \"../contexts/CurrentUserContext\";\n// function EditProfilePopup(props) {\n//     const currentUser = React.useContext(CurrentUserContext);\n//     const [inputName, setName] = React.useState({\n//         editName: \"\",\n//         editDescription: \"\",\n//     });\n//     React.useEffect(() => {\n//         setName({\n//             ...inputName,\n//             editName: currentUser.name,\n//             editDescription: currentUser.about,\n//         });\n//     }, [currentUser, props.isOpen]);\n//     const handleChange = (event) => {\n//         setName({ ...inputName, [event.target.name]: event.target.value });\n//         props.handleValidity(event.target);\n//         console.log(inputName);\n//     };\n//     function handleSubmit(e) {\n//         e.preventDefault();\n//         props.onUpdateUser({\n//             name: inputName.editName,\n//             about: inputName.editDescription,\n//         });\n//     }\n//     return (\n//         <PopupWithForm\n//             validButton={props.validity.isValid}\n//             loader={props.loader}\n//             onSubmit={handleSubmit}\n//             title=\"Редактировать&nbsp;профиль\"\n//             name=\"edit\"\n//             isOpen={props.isOpen}\n//             onCloseAll={props.onClose}\n//             children={\n//                 <>\n//                     <input\n//                         type=\"text\"\n//                         value={inputName.editName || \"\"}\n//                         onChange={handleChange}\n//                         className=\"popup__field popup__field_type_name\"\n//                         placeholder=\"Жак-Ив-Кусто\"\n//                         name=\"editName\"\n//                         id=\"name\"\n//                         required\n//                         minLength=\"2\"\n//                         maxLength=\"40\"\n//                     />\n//                     <span className=\"error\" id=\"name-error\">\n//                         {props.validity.message.editName}\n//                     </span>\n//                     <input\n//                         type=\"text\"\n//                         value={inputName.editDescription || \"\"}\n//                         onChange={handleChange}\n//                         className=\"popup__field popup__field_type_job\"\n//                         name=\"editDescription\"\n//                         placeholder=\"Исследователь океана\"\n//                         id=\"profession\"\n//                         required\n//                         minLength=\"2\"\n//                         maxLength=\"200\"\n//                     />\n//                     <span className=\"error\" id=\"profession-error\">\n//                         {props.validity.message.editDescription}\n//                     </span>\n//                 </>\n//             }\n//         />\n//     );\n// }\n// export default EditProfilePopup;","map":{"version":3,"sources":["C:/dev/frontend/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","currentUser","useFormAndValidation","EditProfilePopup","props","useContext","values","handleChange","errors","isValid","setValues","resetForm","useEffect","editName","name","editDescription","about","isOpen","handleSubmit","e","preventDefault","onUpdateUser","loader","onClose"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OACIC,kBADJ,CAEIC,WAFJ,KAGO,gCAHP,CAIA,OAASC,oBAAT,KAAqC,qBAArC,C,6IAEA,QAASC,CAAAA,gBAAT,CAA0BC,KAA1B,CAAiC,CAC7B,GAAMH,CAAAA,WAAW,CAAGH,KAAK,CAACO,UAAN,CAAiBL,kBAAjB,CAApB,CAEA,0BACIE,oBAAoB,EADxB,CAAQI,MAAR,uBAAQA,MAAR,CAAgBC,YAAhB,uBAAgBA,YAAhB,CAA8BC,MAA9B,uBAA8BA,MAA9B,CAAsCC,OAAtC,uBAAsCA,OAAtC,CAA+CC,SAA/C,uBAA+CA,SAA/C,CAA0DC,SAA1D,uBAA0DA,SAA1D,CAGAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CAClBF,SAAS,gCACFJ,MADE,MAELO,QAAQ,CAAEZ,WAAW,CAACa,IAFjB,CAGLC,eAAe,CAAEd,WAAW,CAACe,KAHxB,GAAT,CAKH,CAND,CAMG,CAACf,WAAD,CAAcG,KAAK,CAACa,MAApB,CANH,EAQA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACAhB,KAAK,CAACiB,YAAN,CAAmB,CACfP,IAAI,CAAER,MAAM,CAACO,QADE,CAEfG,KAAK,CAAEV,MAAM,CAACS,eAFC,CAAnB,EAIH,CAED,mBACI,KAAC,aAAD,EACI,WAAW,CAAEN,OADjB,CAEI,MAAM,CAAEL,KAAK,CAACkB,MAFlB,CAGI,QAAQ,CAAEJ,YAHd,CAII,KAAK,CAAC,8HAJV,CAKI,IAAI,CAAC,MALT,CAMI,MAAM,CAAEd,KAAK,CAACa,MANlB,CAOI,UAAU,CAAEb,KAAK,CAACmB,OAPtB,CAQI,QAAQ,cACJ,wCACI,cACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAEjB,MAAM,CAACO,QAAP,EAAmB,EAF9B,CAGI,QAAQ,CAAEN,YAHd,CAII,SAAS,CAAC,qCAJd,CAKI,WAAW,CAAC,gEALhB,CAMI,IAAI,CAAC,UANT,CAOI,EAAE,CAAC,MAPP,CAQI,QAAQ,KARZ,CASI,SAAS,CAAC,GATd,CAUI,SAAS,CAAC,IAVd,EADJ,cAaI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,YAA3B,UACKC,MAAM,CAACK,QADZ,EAbJ,cAgBI,cACI,IAAI,CAAC,MADT,CAEI,KAAK,CAAEP,MAAM,CAACS,eAAP,EAA0B,EAFrC,CAGI,QAAQ,CAAER,YAHd,CAII,SAAS,CAAC,oCAJd,CAKI,IAAI,CAAC,iBALT,CAMI,WAAW,CAAC,qHANhB,CAOI,EAAE,CAAC,YAPP,CAQI,QAAQ,KARZ,CASI,SAAS,CAAC,GATd,CAUI,SAAS,CAAC,KAVd,EAhBJ,cA4BI,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,kBAA3B,UACKC,MAAM,CAACO,eADZ,EA5BJ,GATR,EADJ,CA6CH,CAED,cAAeZ,CAAAA,gBAAf,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport {\r\n    CurrentUserContext,\r\n    currentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n        useFormAndValidation();\r\n\r\n    React.useEffect(() => {\r\n        setValues({\r\n            ...values,\r\n            editName: currentUser.name,\r\n            editDescription: currentUser.about,\r\n        });\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name: values.editName,\r\n            about: values.editDescription,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            validButton={isValid}\r\n            loader={props.loader}\r\n            onSubmit={handleSubmit}\r\n            title=\"Редактировать&nbsp;профиль\"\r\n            name=\"edit\"\r\n            isOpen={props.isOpen}\r\n            onCloseAll={props.onClose}\r\n            children={\r\n                <>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={values.editName || \"\"}\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_name\"\r\n                        placeholder=\"Жак-Ив-Кусто\"\r\n                        name=\"editName\"\r\n                        id=\"name\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                    />\r\n                    <span className=\"error\" id=\"name-error\">\r\n                        {errors.editName}\r\n                    </span>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={values.editDescription || \"\"}\r\n                        onChange={handleChange}\r\n                        className=\"popup__field popup__field_type_job\"\r\n                        name=\"editDescription\"\r\n                        placeholder=\"Исследователь океана\"\r\n                        id=\"profession\"\r\n                        required\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                    />\r\n                    <span className=\"error\" id=\"profession-error\">\r\n                        {errors.editDescription}\r\n                    </span>\r\n                </>\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n\r\n// import React from \"react\";\r\n// import PopupWithForm from \"./PopupWithForm\";\r\n// import {\r\n//     CurrentUserContext,\r\n//     currentUser,\r\n// } from \"../contexts/CurrentUserContext\";\r\n\r\n// function EditProfilePopup(props) {\r\n//     const currentUser = React.useContext(CurrentUserContext);\r\n\r\n//     const [inputName, setName] = React.useState({\r\n//         editName: \"\",\r\n//         editDescription: \"\",\r\n//     });\r\n\r\n//     React.useEffect(() => {\r\n//         setName({\r\n//             ...inputName,\r\n//             editName: currentUser.name,\r\n//             editDescription: currentUser.about,\r\n//         });\r\n//     }, [currentUser, props.isOpen]);\r\n\r\n//     const handleChange = (event) => {\r\n//         setName({ ...inputName, [event.target.name]: event.target.value });\r\n//         props.handleValidity(event.target);\r\n//         console.log(inputName);\r\n//     };\r\n\r\n//     function handleSubmit(e) {\r\n//         e.preventDefault();\r\n//         props.onUpdateUser({\r\n//             name: inputName.editName,\r\n//             about: inputName.editDescription,\r\n//         });\r\n//     }\r\n\r\n//     return (\r\n//         <PopupWithForm\r\n//             validButton={props.validity.isValid}\r\n//             loader={props.loader}\r\n//             onSubmit={handleSubmit}\r\n//             title=\"Редактировать&nbsp;профиль\"\r\n//             name=\"edit\"\r\n//             isOpen={props.isOpen}\r\n//             onCloseAll={props.onClose}\r\n//             children={\r\n//                 <>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={inputName.editName || \"\"}\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_name\"\r\n//                         placeholder=\"Жак-Ив-Кусто\"\r\n//                         name=\"editName\"\r\n//                         id=\"name\"\r\n//                         required\r\n//                         minLength=\"2\"\r\n//                         maxLength=\"40\"\r\n//                     />\r\n//                     <span className=\"error\" id=\"name-error\">\r\n//                         {props.validity.message.editName}\r\n//                     </span>\r\n//                     <input\r\n//                         type=\"text\"\r\n//                         value={inputName.editDescription || \"\"}\r\n//                         onChange={handleChange}\r\n//                         className=\"popup__field popup__field_type_job\"\r\n//                         name=\"editDescription\"\r\n//                         placeholder=\"Исследователь океана\"\r\n//                         id=\"profession\"\r\n//                         required\r\n//                         minLength=\"2\"\r\n//                         maxLength=\"200\"\r\n//                     />\r\n//                     <span className=\"error\" id=\"profession-error\">\r\n//                         {props.validity.message.editDescription}\r\n//                     </span>\r\n//                 </>\r\n//             }\r\n//         />\r\n//     );\r\n// }\r\n\r\n// export default EditProfilePopup;\r\n"]},"metadata":{},"sourceType":"module"}