{"ast":null,"code":"import _objectSpread from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{useFormAndValidation}from\"../hooks/Validation\";import{CurrentUserContext,currentUser}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(props){var currentUser=React.useContext(CurrentUserContext);var _useFormAndValidation=useFormAndValidation(),values=_useFormAndValidation.values,handleChange=_useFormAndValidation.handleChange,errors=_useFormAndValidation.errors,isValid=_useFormAndValidation.isValid,setValues=_useFormAndValidation.setValues,resetForm=_useFormAndValidation.resetForm;function handleSubmit(e){e.preventDefault();props.onUpdateUser(_objectSpread(_objectSpread({},currentUser),{},{avatar:values.avaLink}));}React.useEffect(function(){setValues({avaLink:\"\"});},[props.isOpen]);return/*#__PURE__*/_jsx(PopupWithForm// validButton={props.validity.isValid}\n,{loader:props.loader,onSubmit:handleSubmit,title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\\xA0\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"card-removal\",isOpen:props.isOpen,onCloseAll:props.onClose,children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:values.avaLink||\"\",onChange:handleChange,type:\"url\",className:\"popup__field popup__field_type_link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"avaLink\",id:\"ava-link\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"error\",id:\"ava-link-error\",children:errors.avaLink})]})});}export default EditAvatarPopup;// import React from \"react\";\n// import PopupWithForm from \"./PopupWithForm\";\n// import { useFormAndValidation } from \"../hooks/Validation\";\n// function EditAvatarPopup(props) {\n//     const [inputData, setInputData] = React.useState({ current: \"\" });\n//     const handleChangee = (event) => {\n//         setInputData({ current: event.target.value });\n//         // props.handleValidity(event.target);\n//     };\n//     const { values, handleChange, errors, isValid, setValues, resetForm } =\n//         useFormAndValidation();\n//     function handleSubmit(e) {\n//         e.preventDefault();\n//         props.onUpdateUser({\n//             avatar: inputData.current.value,\n//         });\n//     }\n//     React.useEffect(() => {\n//         inputData.current.value = \"\";\n//     }, [props.isOpen]);\n//     return (\n//         <PopupWithForm\n//             // validButton={props.validity.isValid}\n//             loader={props.loader}\n//             onSubmit={handleSubmit}\n//             title=\"Обновить&nbsp;аватар\"\n//             name=\"card-removal\"\n//             isOpen={props.isOpen}\n//             onCloseAll={props.onClose}\n//             children={\n//                 <>\n//                     <input\n//                         value={inputData.current}\n//                         onChange={handleChangee}\n//                         ref={inputData}\n//                         type=\"url\"\n//                         className=\"popup__field popup__field_type_link\"\n//                         placeholder=\"Ссылка на аватар\"\n//                         name=\"avaLink\"\n//                         id=\"ava-link\"\n//                         required\n//                     />\n//                     <span className=\"error\" id=\"ava-link-error\">\n//                         {/* {props.validity.message.avaLink} */}\n//                     </span>\n//                 </>\n//             }\n//         />\n//     );\n// }\n// export default EditAvatarPopup;","map":{"version":3,"sources":["C:/dev/frontend/react-mesto-auth/src/components/EditAvatarPopup.js"],"names":["React","PopupWithForm","useFormAndValidation","CurrentUserContext","currentUser","EditAvatarPopup","props","useContext","values","handleChange","errors","isValid","setValues","resetForm","handleSubmit","e","preventDefault","onUpdateUser","avatar","avaLink","useEffect","isOpen","loader","onClose"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,oBAAT,KAAqC,qBAArC,CACA,OACEC,kBADF,CAEEC,WAFF,KAGO,gCAHP,C,6IAKA,QAASC,CAAAA,eAAT,CAAyBC,KAAzB,CAAgC,CAC9B,GAAMF,CAAAA,WAAW,CAAGJ,KAAK,CAACO,UAAN,CAAiBJ,kBAAjB,CAApB,CAEA,0BACED,oBAAoB,EADtB,CAAQM,MAAR,uBAAQA,MAAR,CAAgBC,YAAhB,uBAAgBA,YAAhB,CAA8BC,MAA9B,uBAA8BA,MAA9B,CAAsCC,OAAtC,uBAAsCA,OAAtC,CAA+CC,SAA/C,uBAA+CA,SAA/C,CAA0DC,SAA1D,uBAA0DA,SAA1D,CAGA,QAASC,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GACAV,KAAK,CAACW,YAAN,gCACKb,WADL,MAEEc,MAAM,CAAEV,MAAM,CAACW,OAFjB,IAID,CAEDnB,KAAK,CAACoB,SAAN,CAAgB,UAAM,CACpBR,SAAS,CAAC,CAAEO,OAAO,CAAE,EAAX,CAAD,CAAT,CACD,CAFD,CAEG,CAACb,KAAK,CAACe,MAAP,CAFH,EAIA,mBACE,KAAC,aACC;AADF,EAEE,MAAM,CAAEf,KAAK,CAACgB,MAFhB,CAGE,QAAQ,CAAER,YAHZ,CAIE,KAAK,CAAC,0FAJR,CAKE,IAAI,CAAC,cALP,CAME,MAAM,CAAER,KAAK,CAACe,MANhB,CAOE,UAAU,CAAEf,KAAK,CAACiB,OAPpB,CAQE,QAAQ,cACN,wCACE,cACE,KAAK,CAAEf,MAAM,CAACW,OAAP,EAAkB,EAD3B,CAEE,QAAQ,CAAEV,YAFZ,CAGE,IAAI,CAAC,KAHP,CAIE,SAAS,CAAC,qCAJZ,CAKE,WAAW,CAAC,wFALd,CAME,IAAI,CAAC,SANP,CAOE,EAAE,CAAC,UAPL,CAQE,QAAQ,KARV,EADF,cAWE,aAAM,SAAS,CAAC,OAAhB,CAAwB,EAAE,CAAC,gBAA3B,UACGC,MAAM,CAACS,OADV,EAXF,GATJ,EADF,CA4BD,CAED,cAAed,CAAAA,eAAf,CAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { useFormAndValidation } from \"../hooks/Validation\";\r\nimport {\r\n  CurrentUserContext,\r\n  currentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n    useFormAndValidation();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      ...currentUser,\r\n      avatar: values.avaLink,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setValues({ avaLink: \"\" });\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      // validButton={props.validity.isValid}\r\n      loader={props.loader}\r\n      onSubmit={handleSubmit}\r\n      title=\"Обновить&nbsp;аватар\"\r\n      name=\"card-removal\"\r\n      isOpen={props.isOpen}\r\n      onCloseAll={props.onClose}\r\n      children={\r\n        <>\r\n          <input\r\n            value={values.avaLink || \"\"}\r\n            onChange={handleChange}\r\n            type=\"url\"\r\n            className=\"popup__field popup__field_type_link\"\r\n            placeholder=\"Ссылка на аватар\"\r\n            name=\"avaLink\"\r\n            id=\"ava-link\"\r\n            required\r\n          />\r\n          <span className=\"error\" id=\"ava-link-error\">\r\n            {errors.avaLink}\r\n          </span>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n\r\n// import React from \"react\";\r\n// import PopupWithForm from \"./PopupWithForm\";\r\n// import { useFormAndValidation } from \"../hooks/Validation\";\r\n\r\n// function EditAvatarPopup(props) {\r\n//     const [inputData, setInputData] = React.useState({ current: \"\" });\r\n\r\n//     const handleChangee = (event) => {\r\n//         setInputData({ current: event.target.value });\r\n//         // props.handleValidity(event.target);\r\n//     };\r\n//     const { values, handleChange, errors, isValid, setValues, resetForm } =\r\n//         useFormAndValidation();\r\n\r\n//     function handleSubmit(e) {\r\n//         e.preventDefault();\r\n//         props.onUpdateUser({\r\n//             avatar: inputData.current.value,\r\n//         });\r\n//     }\r\n\r\n//     React.useEffect(() => {\r\n//         inputData.current.value = \"\";\r\n//     }, [props.isOpen]);\r\n\r\n//     return (\r\n//         <PopupWithForm\r\n//             // validButton={props.validity.isValid}\r\n//             loader={props.loader}\r\n//             onSubmit={handleSubmit}\r\n//             title=\"Обновить&nbsp;аватар\"\r\n//             name=\"card-removal\"\r\n//             isOpen={props.isOpen}\r\n//             onCloseAll={props.onClose}\r\n//             children={\r\n//                 <>\r\n//                     <input\r\n//                         value={inputData.current}\r\n//                         onChange={handleChangee}\r\n//                         ref={inputData}\r\n//                         type=\"url\"\r\n//                         className=\"popup__field popup__field_type_link\"\r\n//                         placeholder=\"Ссылка на аватар\"\r\n//                         name=\"avaLink\"\r\n//                         id=\"ava-link\"\r\n//                         required\r\n//                     />\r\n//                     <span className=\"error\" id=\"ava-link-error\">\r\n//                         {/* {props.validity.message.avaLink} */}\r\n//                     </span>\r\n//                 </>\r\n//             }\r\n//         />\r\n//     );\r\n// }\r\n\r\n// export default EditAvatarPopup;\r\n"]},"metadata":{},"sourceType":"module"}