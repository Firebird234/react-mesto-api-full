{"ast":null,"code":"import _classCallCheck from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=/*#__PURE__*/function(_React$Component){_inherits(Card,_React$Component);var _super=_createSuper(Card);function Card(props){var _this;_classCallCheck(this,Card);_this=_super.call(this,props);_this.handleClick=function(){_this.props.onImage(_this.props.card);_this.props.onImagePopup();};_this.handleLikeClick=function(){_this.props.onCardLike(_this.props.card);};_this.handleDeleteClick=function(){_this.props.onCardDelete(_this.props.card);};return _this;}_createClass(Card,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"article\",{className:\"elements__item\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"elements__illustration\",src:this.props.card.link,alt:\"\\u0418\\u043B\\u043B\\u044E\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \\u043A \\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0435\",onClick:this.handleClick}),/*#__PURE__*/_jsxs(\"div\",{className:\"elements__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"elements__title\",children:this.props.card.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"elements__info-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"elements__like \".concat(this.props.card.likes.some(function(el){console.log(el);return el===_this2.context._id;})&&\"elements__like_active\"),onClick:this.handleLikeClick,type:\"button\"}),/*#__PURE__*/_jsx(\"span\",{className:\"elements__like-count\",children:this.props.card.likes.length})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleDeleteClick,className:\"elements__delete \".concat(this.props.card.owner._id!==this.context._id&&\"elements__delete_hidden\")})]});}}]);return Card;}(React.Component);Card.contextType=CurrentUserContext;export default Card;","map":{"version":3,"sources":["C:/dev/frontend/react-mesto-auth/src/components/Card.js"],"names":["React","CurrentUserContext","Card","props","handleClick","onImage","card","onImagePopup","handleLikeClick","onCardLike","handleDeleteClick","onCardDelete","link","name","likes","some","el","console","log","context","_id","length","owner","Component","contextType"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,2FAEMC,CAAAA,I,wGACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EADiB,MAMnBC,WANmB,CAML,UAAM,CAClB,MAAKD,KAAL,CAAWE,OAAX,CAAmB,MAAKF,KAAL,CAAWG,IAA9B,EACA,MAAKH,KAAL,CAAWI,YAAX,GACD,CATkB,OAWnBC,eAXmB,CAWD,UAAM,CACtB,MAAKL,KAAL,CAAWM,UAAX,CAAsB,MAAKN,KAAL,CAAWG,IAAjC,EACD,CAbkB,OAenBI,iBAfmB,CAeC,UAAM,CACxB,MAAKP,KAAL,CAAWQ,YAAX,CAAwB,MAAKR,KAAL,CAAWG,IAAnC,EACD,CAjBkB,cAElB,C,uCAiBD,iBAAS,iBACP,mBACE,iBAAS,SAAS,CAAC,gBAAnB,wBAEE,YACE,SAAS,CAAC,wBADZ,CAEE,GAAG,CAAE,KAAKH,KAAL,CAAWG,IAAX,CAAgBM,IAFvB,CAGE,GAAG,CAAC,4HAHN,CAIE,OAAO,CAAE,KAAKR,WAJhB,EAFF,cAQE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,SAAS,CAAC,iBAAd,UAAiC,KAAKD,KAAL,CAAWG,IAAX,CAAgBO,IAAjD,EADF,cAEE,aAAK,SAAS,CAAC,0BAAf,wBACE,eACE,SAAS,0BACP,KAAKV,KAAL,CAAWG,IAAX,CAAgBQ,KAAhB,CAAsBC,IAAtB,CAA2B,SAACC,EAAD,CAAQ,CACjCC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACA,MAAOA,CAAAA,EAAE,GAAK,MAAI,CAACG,OAAL,CAAaC,GAA3B,CACD,CAHD,GAGM,uBAJC,CADX,CAOE,OAAO,CAAE,KAAKZ,eAPhB,CAQE,IAAI,CAAC,QARP,EADF,cAWE,aAAM,SAAS,CAAC,sBAAhB,UACG,KAAKL,KAAL,CAAWG,IAAX,CAAgBQ,KAAhB,CAAsBO,MADzB,EAXF,GAFF,GARF,cA0BE,eACE,OAAO,CAAE,KAAKX,iBADhB,CAEE,SAAS,4BACP,KAAKP,KAAL,CAAWG,IAAX,CAAgBgB,KAAhB,CAAsBF,GAAtB,GAA8B,KAAKD,OAAL,CAAaC,GAA3C,EACA,yBAFO,CAFX,EA1BF,GADF,CAoCD,C,kBAzDgBpB,KAAK,CAACuB,S,EAAnBrB,I,CAKGsB,W,CAAcvB,kB,CAuDvB,cAAeC,CAAAA,IAAf","sourcesContent":["import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nclass Card extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  static contextType = CurrentUserContext;\r\n\r\n  handleClick = () => {\r\n    this.props.onImage(this.props.card);\r\n    this.props.onImagePopup();\r\n  };\r\n\r\n  handleLikeClick = () => {\r\n    this.props.onCardLike(this.props.card);\r\n  };\r\n\r\n  handleDeleteClick = () => {\r\n    this.props.onCardDelete(this.props.card);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <article className=\"elements__item\">\r\n        {/* {console.log(el)} console.log(this.context)*/}\r\n        <img\r\n          className=\"elements__illustration\"\r\n          src={this.props.card.link}\r\n          alt=\"Иллюстрация к карточке\"\r\n          onClick={this.handleClick}\r\n        />\r\n        <div className=\"elements__info\">\r\n          <h2 className=\"elements__title\">{this.props.card.name}</h2>\r\n          <div className=\"elements__info-container\">\r\n            <button\r\n              className={`elements__like ${\r\n                this.props.card.likes.some((el) => {\r\n                  console.log(el);\r\n                  return el === this.context._id;\r\n                }) && \"elements__like_active\"\r\n              }`}\r\n              onClick={this.handleLikeClick}\r\n              type=\"button\"\r\n            ></button>\r\n            <span className=\"elements__like-count\">\r\n              {this.props.card.likes.length}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={this.handleDeleteClick}\r\n          className={`elements__delete ${\r\n            this.props.card.owner._id !== this.context._id &&\r\n            \"elements__delete_hidden\"\r\n          }`}\r\n        ></button>\r\n      </article>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Card;\r\n"]},"metadata":{},"sourceType":"module"}