{"ast":null,"code":"import _defineProperty from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/dev/frontend/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useCallback}from\"react\";export function useFormAndValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(e.target.validity.valueMissing===true){setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,\"Будь котиком, зополни пустое поле\")));}else if(e.target.validity.tooShort===true){setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,\"Коротковато, давай подключим фантазию\")));}else if(e.target.validity.typeMismatch===true){setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,\"Ну вообще-то тут нужна ссылка, а не вот это вот=)\")));}else{setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,e.target.validationMessage)));}setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setIsValid(e.target.closest(\"form\").checkValidity());};var resetForm=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);},[setValues,setErrors,setIsValid]);return{values:values,handleChange:handleChange,errors:errors,isValid:isValid,resetForm:resetForm,setValues:setValues,setIsValid:setIsValid};}","map":{"version":3,"sources":["C:/dev/frontend/react-mesto-auth/src/hooks/Validation.js"],"names":["useState","useCallback","useFormAndValidation","values","setValues","errors","setErrors","isValid","setIsValid","handleChange","e","target","name","value","validity","valueMissing","tooShort","typeMismatch","validationMessage","closest","checkValidity","resetForm","newValues","newErrors","newIsValid"],"mappings":"scAAA,OAASA,QAAT,CAAmBC,WAAnB,KAAsC,OAAtC,CAEA,MAAO,SAASC,CAAAA,oBAAT,EAAgC,CACnC,cAA4BF,QAAQ,CAAC,EAAD,CAApC,wCAAOG,MAAP,eAAeC,SAAf,eACA,eAA4BJ,QAAQ,CAAC,EAAD,CAApC,yCAAOK,MAAP,eAAeC,SAAf,eACA,eAA8BN,QAAQ,CAAC,IAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxB,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACA,GAAIH,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBC,YAAlB,GAAmC,IAAvC,CAA6C,CACzCT,SAAS,gCACFD,MADE,wBAEJO,IAFI,CAEG,mCAFH,GAAT,CAIH,CALD,IAKO,IAAIF,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBE,QAAlB,GAA+B,IAAnC,CAAyC,CAC5CV,SAAS,gCACFD,MADE,wBAEJO,IAFI,CAEG,uCAFH,GAAT,CAIH,CALM,IAKA,IAAIF,CAAC,CAACC,MAAF,CAASG,QAAT,CAAkBG,YAAlB,GAAmC,IAAvC,CAA6C,CAChDX,SAAS,gCACFD,MADE,wBAEJO,IAFI,CAEG,mDAFH,GAAT,CAIH,CALM,IAKA,CACHN,SAAS,gCAAMD,MAAN,wBAAeO,IAAf,CAAsBF,CAAC,CAACC,MAAF,CAASO,iBAA/B,GAAT,CACH,CACDd,SAAS,gCAAMD,MAAN,wBAAeS,IAAf,CAAsBC,KAAtB,GAAT,CAEAL,UAAU,CAACE,CAAC,CAACC,MAAF,CAASQ,OAAT,CAAiB,MAAjB,EAAyBC,aAAzB,EAAD,CAAV,CACH,CAvBD,CAyBA,GAAMC,CAAAA,SAAS,CAAGpB,WAAW,CACzB,UAAwD,IAAvDqB,CAAAA,SAAuD,2DAA3C,EAA2C,IAAvCC,CAAAA,SAAuC,2DAA3B,EAA2B,IAAvBC,CAAAA,UAAuB,2DAAV,KAAU,CACpDpB,SAAS,CAACkB,SAAD,CAAT,CACAhB,SAAS,CAACiB,SAAD,CAAT,CACAf,UAAU,CAACgB,UAAD,CAAV,CACH,CALwB,CAMzB,CAACpB,SAAD,CAAYE,SAAZ,CAAuBE,UAAvB,CANyB,CAA7B,CASA,MAAO,CACHL,MAAM,CAANA,MADG,CAEHM,YAAY,CAAZA,YAFG,CAGHJ,MAAM,CAANA,MAHG,CAIHE,OAAO,CAAPA,OAJG,CAKHc,SAAS,CAATA,SALG,CAMHjB,SAAS,CAATA,SANG,CAOHI,UAAU,CAAVA,UAPG,CAAP,CASH","sourcesContent":["import { useState, useCallback } from \"react\";\r\n\r\nexport function useFormAndValidation() {\r\n    const [values, setValues] = useState({});\r\n    const [errors, setErrors] = useState({});\r\n    const [isValid, setIsValid] = useState(true);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        if (e.target.validity.valueMissing === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Будь котиком, зополни пустое поле\",\r\n            });\r\n        } else if (e.target.validity.tooShort === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Коротковато, давай подключим фантазию\",\r\n            });\r\n        } else if (e.target.validity.typeMismatch === true) {\r\n            setErrors({\r\n                ...errors,\r\n                [name]: \"Ну вообще-то тут нужна ссылка, а не вот это вот=)\",\r\n            });\r\n        } else {\r\n            setErrors({ ...errors, [name]: e.target.validationMessage });\r\n        }\r\n        setValues({ ...values, [name]: value });\r\n\r\n        setIsValid(e.target.closest(\"form\").checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n            setValues(newValues);\r\n            setErrors(newErrors);\r\n            setIsValid(newIsValid);\r\n        },\r\n        [setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    return {\r\n        values,\r\n        handleChange,\r\n        errors,\r\n        isValid,\r\n        resetForm,\r\n        setValues,\r\n        setIsValid,\r\n    };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}